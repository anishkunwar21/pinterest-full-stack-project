<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/profile.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="/javascripts/script.js" defer></script>
    <title>Document</title>
</head>
<body>
    <!-- <a href="/logout"><button>Log Out</button></a> -->
    <nav>
        <div class="logo-box">
            <img src="/images/pinnnn.png" class="logo">
            </div>
        <ul>
            <li><a href="/profile">Profile</a></li>
            <li><a href="/feed">Feed</a></li>
            <li><a href="/logout"><button>Log Out</button></a></li>
            <li><a href="/createpin"><button class="btn">Create Pin</button></a></li>
        </ul>
    </nav>
    <header>
        <form action="/image" hidden method="post" enctype="multipart/form-data" class="form">
            <input type="file" name="profile" class="choose-file">
            <input type="submit">
        </form>
        <div class="profile-card">
            <% if (!user.profileImage) { %>
                <div class="dp-box">
                    <h1><%=user.fullName[0]%></h1>
                    <i class="fa-2x fa-solid fa-circle-plus icon"></i>
                    </div>
                <%} else { %>
                    <div class="dp-box">
                        <img src="/images/profilepictures/<%=user.profileImage%>" class="dp">
                        <i class="fa-2x fa-solid fa-circle-plus icon"></i>
                        </div>
                <% } %>
            <h1><%=user.fullName%></h1>
            <h4>@<%=user.username%></h4>
            
        </div>
        <div class="posts-flex-container">
        <% if (user.pins.length===0) { %>
            <div class="txt-box" style="width: 100%; text-align: center;">
            <h1>Nothing to show...yet! Pins you create will live here.</h1>
            <a href="/createpin"><button class="btn">Create Pin</button></a>
        </div>
<%} else { %>
    <%
            user.pins.forEach(function(pin){ %>
                <div class="posts-box">
                <img src="/images/pins/<%=pin.imageURL%>">
            </div>
            <% })
             %>
<% } %>
        </div>

          
        </div>
    </header>
    <%
    function send(pin){%>
        console.log(pin)
    <%}
    %>
</body>
</html>